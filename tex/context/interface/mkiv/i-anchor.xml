<?xml version="1.0" encoding="UTF-8"?>

<?context-directive job ctxfile x-setups.ctx ?>

<cd:interface xmlns:cd="http://www.pragma-ade.com/commands">

    <cd:command name="defineanchor" level="style" category="graphics" file="pack-box.mkiv">
        <cd:arguments>
            <cd:resolve name="keyword-name"/>
            <cd:resolve name="keyword-name"/>
            <cd:assignments list="yes" optional="yes">
                <cd:inherit name="setuplayer"/>
            </cd:assignments>
            <cd:assignments list="yes" optional="yes">
                <cd:inherit name="setuplayer"/>
                <cd:inherit name="setupframed"/>
            </cd:assignments>
        </cd:arguments>
    </cd:command>

    <cd:command name="anchor" level="document" category="graphics" file="pack-box.mkiv">
        <cd:arguments>
            <cd:resolve name="keyword-name"/>
            <cd:assignments list="yes" optional="yes">
                <cd:inherit name="setuplayer"/>
            </cd:assignments>
            <cd:assignments list="yes" optional="yes">
                <cd:inherit name="setuplayer"/>
                <cd:inherit name="setupframed"/>
            </cd:assignments>
            <cd:content/>
        </cd:arguments>
    </cd:command>

    <cd:command name="syncanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="alignanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
            <cd:resolve name="argument-number"/>
            <cd:keywords delimiters="braces">
                <cd:constant type="r"/>
                <cd:constant type="right"/>
                <cd:constant type="c"/>
                <cd:constant type="m"/>
                <cd:constant type="middle"/>
            </cd:keywords>
        </cd:arguments>
    </cd:command>

    <cd:command name="markanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="setlocalanchoring" file="anch-loc.mkxl"/>

    <cd:command name="anchoring" type="environment" file="anch-loc.mkxl"/>

    <cd:command name="synchronizing" type="environment" file="anch-loc.mkxl"/>

    <cd:command name="autosync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="mathsync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="mordsync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="mrelsync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="mbinsync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="argument-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="localanchors" type="environment" begin="push" end="pop" file="anch-loc.lmt"/>

    <cd:command name="analyzelocalanchors" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="string-box"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="synchronizelocalanchors" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="string-box"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="setlocalsyncanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:resolve name="string-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="setlocalalignanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:resolve name="string-number"/>
            <cd:keywords delimiters="braces">
                <cd:constant type="r"/>
                <cd:constant type="right"/>
                <cd:constant type="c"/>
                <cd:constant type="m"/>
                <cd:constant type="middle"/>
            </cd:keywords>
        </cd:arguments>
    </cd:command>

    <cd:command name="setlocalmarkanchor" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:resolve name="string-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="localanchorx" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:resolve name="string-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="localanchory" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:resolve name="string-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="sync" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
        </cd:arguments>
    </cd:command>

    <cd:command name="async" file="anch-loc.mkxl">
        <cd:arguments>
            <cd:resolve name="argument-name"/>
            <cd:resolve name="string-number"/>
            <cd:keywords delimiters="braces">
                <cd:constant type="r"/>
                <cd:constant type="right"/>
                <cd:constant type="c"/>
                <cd:constant type="m"/>
                <cd:constant type="middle"/>
            </cd:keywords>
        </cd:arguments>
    </cd:command>

</cd:interface>
