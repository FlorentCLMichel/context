% output=pdftex modes=packed

%D \module
%D   [      file=x-xml-01,
%D        version=2001.10.10,
%D          title=\CONTEXT\ XML Style File,
%D       subtitle=Formatting X?? files,
%D         author=Hans Hagen,
%D           date=\currentdate,
%D      copyright={PRAGMA / Hans Hagen \& Ton Otten}]
%C
%C This module is part of the \CONTEXT\ macro||package and is
%C therefore copyrighted by \PRAGMA. See mreadme.pdf for 
%C details. 

% texexec --use=xml-format yourfile.x** [--mode=packed,wide]
%
% pdftotext yourfile.pdf yournewfile.x**

\doifnothing  {\inputfilename}    {\end} 
\doiffileelse {\inputfilename} {} {\end} 

% makes pdftotext to too slow 
%
% \definepapersize
%   [mine]
%   [height=.99\maxdimen,
%    width=200cm]
%
% \setuppapersize
%   [mine]
%   [mine]
%
% \setupbodyfont
%   [0.4pt,tt]
%
% this is faster
%
% \setuppapersize
%   [A0][A0]
%
% but normal A4 combined with 1 pt font size is the best 

% too many messages 
%
% \setupbodyfont
%   [1pt,tt]
%
% so: 

\definedfont [Mono at 1pt] 

\setuplayout
  [backspace=0cm,
   topspace=0cm,
   width=40em, 
   height=middle,
   header=0cm,
   footer=0cm]

\setupXMLfile
  [level=2]

\startmode[wide]

  \setuplayout[width=250cm]

\stopmode

\startmode[packed]

  \setupXMLfile[inbetween=]

\stopmode

\starttext 

\dontcomplain \showXMLfile{\inputfilename}

\stoptext 
